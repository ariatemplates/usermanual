Title: Text Templates

{{Review}}

Text Templates are very simple templates that have been conceived in order to contain simple text. A class defined through a text template exposes a unique public API that allows to print the content of a text template. 

## Template definition

The text template must be defined using the following syntax:


<div data-sample="hardcoded"><code><pre>
{TextTemplate {
  $classpath: 'my.example.myTextTemplate',
  $hasScript: ...,
  $extends: '...' // another text template
  $res: {...},
  $dependencies: [...],
  $texts: {...}
}}

  // ...
 
{/TextTemplate}
</code></pre></div>

The `TextTemplate` statement accepts all of the configuration properties of an HTML Template {{red|except}} from **`$css`**, **`$wlibs`**, **`$macrolibs`**, **`$templates`**, **`$width`** and **`$height`**.

This means that a text tamplate can have a script associated to it, can inherit from another text template and can use resources.

Text templates must be saved with the extension **`.tpl.txt`** (for instance the file path of the above example would be `my/example/myTextTemplate.tpl.txt`).

## Allowed statements

The statements allowed inside a text template definition are the following (see [ statements](aria_templates_statements_) for an explanation):


* `[if]`
* `[for]`
* `[foreach]`
* `[separator]`
* `[macro]`
* `[call]`
* `[var]`
* `[set]`
* `[CDATA]`.

Notice that, with respect to an HTML template, **it is not possible** to use the following statements:


* `[id]`
* `[on]`
* `[section]`
* `[checkDefault]`
* `[createView]`.

## Special characters and comments

Text templates have the same behaviour as HTML templates as far as [special characters](aria_templates_principles#special-characters-) and [comments](aria_templates_principles#comments-) are concerned. In particular, comments are eliminated.

## Access to a text template

Once the text template (for instance `my.example.myTextTemplate`) has been loaded, it is possible to display its content by using the following syntax:


<div data-sample="hardcoded"><code><pre>
my.example.myTextTemplate.processTextTemplate(myData);
</code></pre></div>

An optional  JSON Object (`myData` in the above example) can be passed to the `processTextTemplate` method. This object becomes the `data` Object inside the text template and can be accessed and modified:


<div data-sample="hardcoded"><code><pre>
{TextTemplate {
  $classpath: 'my.example.myTextTemplate',
}}

  {macro main()}
    ${data.key}
  {/macro}

{/TextTemplate}
</code></pre></div>

It is NOT possible to have access to the macros defined in the text template or to the functions defined inside its associated script. The only public method that can be invoked is the `processTextTemplate` method.

## How to include a text template in a class definition

Text templates can be used in any class definition by including them in the dependencies:


<div data-sample="hardcoded"><code><pre>
Aria.classDefinition({
  $classpath : "my.example.MyClass",
  $texts : {
    myText : 'my.example.myTextTemplate
  }
});
</code></pre></div>

## How to include a text template in HTML/TML/CSS templates

The text template can be used inside an HTML Template using the following syntax:


<div data-sample="hardcoded"><code><pre>
 {Template {
    $classpath : 'my.example.MainTemplate',
    $texts : {
      myText : 'my.example.myTextTemplate'
    }
 }}
 
  {macro main()}
    ${myText.processTextTemplate(myData)}
  {macro}
 
{/Template}
</code></pre></div>

There is no difference with respect to the class definition. In both cases the instances of the class defined by the HTML template (or by `Aria.classDefinition`) are endowed with a shortcut (`myText` in this example) that is a reference to the class generated by the appropriate text template (`my.example.myTextTemplate`).

The same syntax can be used in macro libraries and CSS templates.

As far as inheritance is concerned, the text templates of the parent template are inherited in the same fashion as for the macro libraries.



----


For an example of text templates usage see the [tutorial page](aria_templates_tutorials_text_templates) and the [demo site](http://aria/aria-templates/#tpl=tutorials.texttemplates.step1.MainTemplate)